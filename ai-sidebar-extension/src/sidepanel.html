<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Sidebar</title>
  <link rel="stylesheet" href="sidepanel.css">
  <link rel="preconnect" href="https://chatgpt.com">
  <link rel="preconnect" href="https://gemini.google.com">
  <link rel="preconnect" href="https://claude.ai">
</head>

<body>
  <div class="app-container">

    <!-- Collapsible Header -->
    <header id="app-header" class="toolbar">
      <div class="toolbar-inner">
        <!-- Omnibox: Provider + URL -->
        <div class="omnibox">
          <div class="select-wrapper">
            <select id="ai-provider" class="provider-select">
              <option value="chatgpt" data-url="https://chatgpt.com">ChatGPT</option>
              <option value="gemini" data-url="https://gemini.google.com">Gemini</option>
              <option value="claude" data-url="https://claude.ai">Claude</option>
              <option value="custom">Web</option>
            </select>
            <!-- Down Chevron for Select -->
            <svg class="select-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m6 9 6 6 6-6" />
            </svg>
          </div>
          <div class="divider"></div>
          <input type="text" id="url-input" class="url-input" placeholder="https://example.com"
            value="https://chatgpt.com">

          <!-- Collapse Button (Inside Omnibox or next to it? Let's keep it next to Theme) -->
        </div>

        <div class="header-actions">
          <button id="theme-btn" class="icon-btn" title="Toggle Theme">
            <!-- Moon Icon -->
            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" />
            </svg>
          </button>
          <button id="hide-header-btn" class="icon-btn" title="Hide Header">
            <!-- Chevron Up -->
            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m18 15-6-6-6 6" />
            </svg>
          </button>
        </div>
      </div>
    </header>

    <!-- Floating Show Header Trigger -->
    <button id="show-header-btn" class="floating-header-trigger" style="display: none;" title="Show Header">
      <!-- Chevron Down -->
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <path d="m6 9 6 6 6-6" />
      </svg>
    </button>

    <!-- Main Content -->
    <main class="content-area">
      <div id="loader" class="loader-container">
        <div class="spinner"></div>
        <p>Loading...</p>
      </div>
      <iframe id="main-frame" class="ai-frame" src=""></iframe>
      <div id="drag-overlay" class="drag-overlay"></div>
    </main>

    <!-- Resize Handle -->
    <div id="resize-handle" class="resize-handle">
      <div class="handle-bar"></div>
    </div>

    <!-- Context Panel -->
    <footer id="context-panel" class="context-panel">
      <div class="context-header">
        <div class="context-title">
          <!-- File Text Icon -->
          <svg class="icon-sm" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
            <polyline points="14 2 14 8 20 8" />
          </svg>
          <span>Context</span>
        </div>
        <div class="context-actions">
          <button id="copy-btn" class="action-btn sm" title="Copy">
            <!-- Copy Icon -->
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
              <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" />
            </svg>
            <span class="btn-text">Copy</span>
          </button>
          <button id="clear-btn" class="action-btn sm" title="Clear">
            <!-- Trash Icon -->
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18" />
              <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
              <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
            </svg>
            <span class="btn-text">Clear</span>
          </button>
          <button id="minimize-btn" class="icon-btn sm" title="Minimize">
            <!-- Chevron Down -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="m6 9 6 6 6-6" />
            </svg>
          </button>
        </div>
      </div>

      <div class="context-body">
        <div id="content-container" class="content-container">
          <textarea id="context-area" placeholder="Captured content from active tab..."></textarea>
          <img id="context-image" class="context-image" hidden alt="Screenshot context">
        </div>
        <div class="action-row">
          <button id="capture-btn" class="capture-btn">
            <!-- Zap Icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
            </svg>
            <span>Capture Text</span>
          </button>
          <button id="screenshot-btn" class="capture-btn">
            <!-- Camera Icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />
              <circle cx="12" cy="13" r="4" />
            </svg>
            <span>Screenshot</span>
          </button>
        </div>
      </div>
    </footer>

    <!-- Floating Context Toggle (Bottom Right) -->
    <button id="show-context-btn" class="floating-fab" style="display: none;" title="Show Context">
      <!-- Edit/Pencil Icon -->
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
      </svg>
    </button>



  </div>
  <script src="sidepanel.js"></script>
</body>

</html>